<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="/athletics/icons/cws-logo-red.png">
<title>Commonwealth Athletics - Schedule</title>
  <link rel="manifest" href="/athletics/manifest.json">
<meta name="theme-color" content="#dc2626">


<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>

<style>
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
  html, body {
    height: 100%;
    margin: 0;
    background: var(--background);
    color: var(--foreground);
    font-family: Arial, Helvetica, sans-serif;
  }
  body { display: flex; flex-direction: column; }
  main { flex: 1; }

  a.game-card {
    background-color: #111111;
    border: 1px solid #333333;
    border-radius: 24px;
    padding: 1.5rem;
    display: block;
    text-decoration: none;
    color: inherit;
    transition: all 0.2s ease-in-out;
  }
  a.game-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(220,38,38,0.3);
    border-color: #dc2626;
  }
  .team-name { font-size: 1.25rem; font-weight: 600; }
  .score { font-size: 2rem; color: #ffffff; font-weight: bold; }
  .game-footer { color: #bbbbbb; font-size: 0.875rem; margin-top: 0.75rem; text-align: center; }

  select {
    background-color: #111111;
    color: #fff;
    border: 1px solid #333;
    border-radius: 9999px;
    padding: 0.5rem 1rem;
    font-weight: 600;
  }
  select:focus {
    outline: none;
    border-color: #dc2626;
    box-shadow: 0 0 0 2px rgba(220,38,38,0.3);
  }

  @media (max-width: 640px) {
    .score { font-size: 1.5rem; }
    a.game-card { padding: 1rem; }
  }
 /* Scoreboard styles */
  .live-badge {
    display: inline-block;
    background-color: #dc2626;
    color: white;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 9999px;
    font-size: 0.75rem;
    text-transform: uppercase;
    animation: pulse 1.5s infinite;
  }

  @keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.8); }
    70% { box-shadow: 0 0 0 12px rgba(220, 38, 38, 0); }
    100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
  }

  a.game-card {
    background-color: #111111;
    border: 1px solid #333333;
    border-radius: 24px;
    padding: 1.5rem;
    transition: all 0.2s ease-in-out;
    display: block;
    text-decoration: none;
  }
  a.game-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(220,38,38,0.3);
    border-color: #dc2626;
  }

  .team-name { font-size: 1.25rem; font-weight: 600; }
  .score { font-size: 2rem; color: #ffffff; font-weight: bold; }
  .game-footer { color: #bbbbbb; font-size: 0.875rem; margin-top: 0.75rem; text-align: center; }

  @media (max-width: 640px) {
    .score { font-size: 1.5rem; }
    a.game-card { padding: 1rem; }
  }

  /* Countdown badge */
  .countdown {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #111;
    border: 1px solid #333;
    border-radius: 9999px;
    padding: 4px 10px;
    font-size: 0.75rem;
    color: #e5e5e5;
  }

  .est-badge {
    background: #dc2626;
    color: white;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 9999px;
    font-size: 0.65rem;
  }

  .countdown-pulse {
    animation: pulse 1.5s infinite;
  }

.navbar-bg {
  background-image: url("/icons/navbar-bg.jpg"); 
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}
.navbar-overlay {
  background: rgba(0, 0, 0, 0.75);
}
.nav-link.active {
  color: #dc2626; /* red */
  font-weight: 700;
}

</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCXzyNOFs1QWwO77IvS_xAK9D4mDJ93gpM",
  authDomain: "commonwealth-scream-sports.firebaseapp.com",
  projectId: "commonwealth-scream-sports",
  storageBucket: "commonwealth-scream-sports.firebasestorage.app",
  messagingSenderId: "743439769141",
  appId: "1:743439769141:web:98f0dcf12b2ce1b9669b7c"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const TIMEZONE = "America/New_York";

// countdown formatter
function formatCountdown(ms) {
  if (ms <= 0) return "Starting soon";
  const totalSeconds = Math.floor(ms / 1000);
  const days = Math.floor(totalSeconds / (3600 * 24));
  const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
  const minutes = Math.floor((totalSeconds % 3600) / 60);
  let parts = [];
  if (days > 0) parts.push(`${days}d`);
  if (hours > 0 || days > 0) parts.push(`${hours}h`);
  parts.push(`${minutes}m`);
  return parts.join(" ");
}

window.addEventListener('DOMContentLoaded', () => {
  const scheduleContainer = document.getElementById('schedule-container');

  const sportBtn = document.getElementById('sport-filter-btn');
  const sportDropdown = document.getElementById('sport-filter-dropdown');

  const teamBtn = document.getElementById('team-filter-btn');
  const teamDropdown = document.getElementById('team-filter-dropdown');

  let selectedSport = "";
  let selectedTeam = "";

  const teamsBySport = {
    basketball: ["boys-varsity","girls-varsity","boys-jv"],
    soccer: ["boys-varsity","girls-varsity","boys-jv"],
    "cross-country": ["varsity"],
    fencing: ["varsity"],
    volleyball: ["girls-varsity","girls-jv"],
    "ultimate-frisbee": ["varsity","jv"]
  };

  const teamLabels = {
    "boys-varsity": "Boys Varsity",
    "girls-varsity": "Girls Varsity",
    "boys-jv": "Boys Junior Varsity",
    "girls-jv": "Girls Junior Varsity",
    "varsity": "Varsity",
    "jv": "Junior Varsity"
  };

  let allGames = [];

  function populateSportDropdown() {
    sportDropdown.innerHTML = "";
    const allSportsA = document.createElement('a');
    allSportsA.href = "#";
    allSportsA.textContent = "All Sports";
    allSportsA.dataset.sport = "";
    allSportsA.className = "block px-6 py-2 hover:bg-red-600 hover:text-white transition font-semibold";
    allSportsA.addEventListener('click', e => {
      e.preventDefault();
      selectedSport = "";
      sportBtn.textContent = "All Sports ▼";
      sportDropdown.classList.add('hidden');
      populateTeamDropdown();
      renderGames();
    });
    sportDropdown.appendChild(allSportsA);

    Object.keys(teamsBySport).forEach(sport => {
      const a = document.createElement('a');
      a.href = "#";
      a.textContent = sport.charAt(0).toUpperCase() + sport.slice(1).replace("-", " ");
      a.dataset.sport = sport;
      a.className = "block px-6 py-2 hover:bg-red-600 hover:text-white transition";
      a.addEventListener('click', e => {
        e.preventDefault();
        selectedSport = sport;
        sportBtn.textContent = `${a.textContent} ▼`;
        sportDropdown.classList.add('hidden');
        populateTeamDropdown();
        renderGames();
      });
      sportDropdown.appendChild(a);
    });
  }

  function populateTeamDropdown() {
    teamDropdown.innerHTML = "";
    const allTeamsA = document.createElement('a');
    allTeamsA.href = "#";
    allTeamsA.textContent = "All Teams";
    allTeamsA.dataset.team = "";
    allTeamsA.className = "block px-6 py-2 hover:bg-red-600 hover:text-white transition font-semibold";
    allTeamsA.addEventListener('click', e => {
      e.preventDefault();
      selectedTeam = "";
      teamBtn.textContent = "All Teams ▼";
      teamDropdown.classList.add('hidden');
      renderGames();
    });
    teamDropdown.appendChild(allTeamsA);

    if (selectedSport && teamsBySport[selectedSport]) {
      teamsBySport[selectedSport].forEach(teamVal => {
        const a = document.createElement('a');
        a.href = "#";
        a.textContent = teamLabels[teamVal];
        a.dataset.team = teamVal;
        a.className = "block px-6 py-2 hover:bg-red-600 hover:text-white transition";
        a.addEventListener('click', e => {
          e.preventDefault();
          selectedTeam = teamVal;
          teamBtn.textContent = `${teamLabels[teamVal]} ▼`;
          teamDropdown.classList.add('hidden');
          renderGames();
        });
        teamDropdown.appendChild(a);
      });
    }
  }

  function renderGames() {
    scheduleContainer.innerHTML = '';
    const now = new Date();
    const todayStart = new Date(now); todayStart.setHours(0,0,0,0);
    const todayEnd = new Date(now); todayEnd.setHours(23,59,59,999);

    allGames.forEach(game => {
  // Only skip if a specific sport is selected and it doesn't match
  if (selectedSport !== "" && game.sport !== selectedSport) return;
  // Only skip if a specific team is selected and it doesn't match
  if (selectedTeam !== "" && game.team !== selectedTeam) return;
      let gameTime;
if (game.datetime && typeof game.datetime.toDate === "function") {
  gameTime = game.datetime.toDate();
} else if (game.datetime) {
  gameTime = new Date(game.datetime); // fallback if it's a string
} else {
  console.warn("Skipping game with missing datetime:", game);
  return; // skip rendering this game
}

      const estGameTime = new Date(gameTime.toLocaleString("en-US",{timeZone: TIMEZONE}));
      const isLive = game.status === "Live";
      const isFinal = game.status === "Final";
      const todayGame = estGameTime >= todayStart && estGameTime <= todayEnd;
      const upcoming = estGameTime > todayEnd;
      const showFinal = isFinal;

      const card = document.createElement('a');

// Make the whole card link to the livestream if it exists, otherwise fallback to team page
if (game.livestreamUrl) {
  card.href = game.livestreamUrl;
  card.target = "_blank"; // open in new tab
  card.rel = "noopener";
} else {
  card.href = `/athletics/sports/${game.sport}/${game.team}.html`;
}

card.className = 'game-card mb-6 text-white';

      card.innerHTML = `
        <div class="flex justify-between items-center mb-4">
          <span class="text-gray-400 text-sm">${game.sport.toUpperCase()} • ${teamLabels[game.team] || game.team}</span>
          ${isLive ? '<span class="live-badge countdown-pulse">LIVE</span>' : ''}
          ${showFinal ? '<span class="text-gray-400 text-sm font-bold">FINAL</span>' : ''}
        </div>

        <div class="grid grid-cols-3 items-center">
  <div class="text-left font-semibold text-base sm:text-lg truncate max-w-[120px] sm:max-w-none">
    ${game.away}
  </div>

  <div class="text-center score">
    ${isLive || showFinal ? `${game.awayScore} – ${game.homeScore}` : 'vs'}
  </div>

  <div class="text-right font-semibold text-base sm:text-lg truncate max-w-[120px] sm:max-w-none">
    ${game.home}
  </div>
</div>


        <div class="game-footer">
          ${
            isLive
              ? `<span class="font-semibold text-red-500">${game.periodLabel}</span>`
              : upcoming
                ? `
                  <div class="flex flex-col items-center gap-2">
                    <div>
                      ${estGameTime.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})} •
                      ${estGameTime.toLocaleTimeString([], {hour:"numeric",minute:"2-digit"})}
                    </div>
                    <div class="countdown countdown-pulse" data-time="${estGameTime.getTime()}">
  <span class="est-badge">EST</span>
  <span class="countdown-text">Loading…</span>
</div>

                  </div>
                `
                : `
                  <div>
                    ${estGameTime.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})} •
                    ${estGameTime.toLocaleTimeString([], {hour:"numeric",minute:"2-digit"})}
                  </div>
                `
          }
        </div>
      `;
      scheduleContainer.appendChild(card);
    });
  }

  function updateCountdowns() {
  const countdowns = document.querySelectorAll('.countdown');
  const now = Date.now();
  countdowns.forEach(cd => {
    const target = parseInt(cd.getAttribute('data-time'), 10);
    const textSpan = cd.querySelector('.countdown-text');
    const msLeft = target - now;

    if (msLeft <= 0) {
      textSpan.textContent = "Starting Soon";
    } else {
      const totalSeconds = Math.floor(msLeft / 1000);
      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);

      let parts = [];
      if (days > 0) parts.push(`${days}d`);
      if (hours > 0 || days > 0) parts.push(`${hours}h`);
      parts.push(`${minutes}m`);

      textSpan.textContent = parts.join(" ");
    }
  });
}
setInterval(updateCountdowns, 1000);
updateCountdowns();

  sportBtn.addEventListener('click', () => sportDropdown.classList.toggle('hidden'));
  teamBtn.addEventListener('click', () => teamDropdown.classList.toggle('hidden'));

  window.addEventListener('click', e => {
    if (!sportBtn.contains(e.target) && !sportDropdown.contains(e.target)) sportDropdown.classList.add('hidden');
    if (!teamBtn.contains(e.target) && !teamDropdown.contains(e.target)) teamDropdown.classList.add('hidden');
  });

onSnapshot(collection(db, "games"), snapshot => {
  allGames = snapshot.docs.map(d => ({ id: d.id, ...d.data() }));

  const now = new Date();

  allGames.sort((a, b) => {
    const aTime = a.datetime && a.datetime.toDate ? a.datetime.toDate().getTime() : 0;
    const bTime = b.datetime && b.datetime.toDate ? b.datetime.toDate().getTime() : 0;

    const aLive = a.status === "Live" ? 1 : 0;
    const bLive = b.status === "Live" ? 1 : 0;

    const aUpcoming = aTime > now.getTime() ? 1 : 0;
    const bUpcoming = bTime > now.getTime() ? 1 : 0;

    // Live first
    if (aLive !== bLive) return bLive - aLive;

    // Upcoming next, sort ascending by date
    if (aUpcoming && bUpcoming) return aTime - bTime;

    // Past games last, sort descending by date
    if (!aUpcoming && !aLive && !bUpcoming && !bLive) return bTime - aTime;

    // Otherwise, keep current order
    return 0;
  });

  console.log("Sorted games:", allGames); // debug

  populateSportDropdown();
  populateTeamDropdown();
  renderGames();
});



});
// Navbar dropdown & mobile toggle

// Highlight active link
document.querySelectorAll(".nav-link").forEach(link => {
  const linkPath = link.getAttribute("href").replace(/\/$/, "") || "/";
  const currentPath = window.location.pathname.replace(/\/$/, "") || "/";
  if (linkPath === currentPath || (currentPath.includes('schedule') && linkPath.includes('schedule'))) {
    link.classList.add("active");
  }
});

</script>

</head>
<body>

<!-- Navbar (same as home page) -->
<nav class="navbar-bg text-white sticky top-0 z-50 border-b border-neutral-800">
  <div class="navbar-overlay">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex justify-between h-16 items-center">

        <!-- Logo + Text -->
        <a href="/athletics/" class="flex items-center gap-2">
          <img src="/athletics/icons/cws-logo-red.png" alt="Logo" class="h-10 w-10">
          <span class="font-extrabold text-red-600 text-xl sm:text-2xl md:text-3xl">
  Commonwealth Athletics
</span>

        </a>
        

        <!-- Desktop Menu -->
        <div class="hidden md:flex space-x-6 items-center">
          <a href="/athletics/" class="hover:text-red-500">Home</a>

          <!-- Sports Dropdown -->
          <div class="relative">
            <button id="sports-btn" class="hover:text-red-500 font-semibold flex items-center gap-1">
              Sports <span id="sports-arrow" class="transition-transform duration-200">▾</span>
            </button>
            <div id="sports-dropdown" class="absolute mt-3 bg-neutral-900 border border-neutral-700 rounded-xl shadow-xl w-56 hidden z-50">

  <!-- Basketball -->
  <div class="border-b border-neutral-700">
    <div class="px-4 py-2 font-bold text-gray-300">Basketball</div>
    <a href="/athletics/sports/basketball/boys-varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Boys Varsity</a>
    <a href="/athletics/sports/basketball/girls-varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Girls Varsity</a>
    <a href="/athletics/sports/basketball/boys-jv.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Boys JV</a>
  </div>

  <!-- Soccer -->
  <div class="border-b border-neutral-700">
    <div class="px-4 py-2 font-bold text-gray-300">Soccer</div>
    <a href="/athletics/sports/soccer/boys-varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Boys Varsity</a>
    <a href="/athletics/sports/soccer/girls-varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Girls Varsity</a>
    <a href="/athletics/sports/soccer/boys-jv.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Boys JV</a>
  </div>

  <!-- Fencing -->
  <div class="border-b border-neutral-700">
    <div class="px-4 py-2 font-bold text-gray-300">Fencing</div>
    <a href="/athletics/sports/fencing/varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Varsity</a>
  </div>

  <!-- Cross Country -->
  <div class="border-b border-neutral-700">
    <div class="px-4 py-2 font-bold text-gray-300">Cross Country</div>
    <a href="/athletics/sports/cross-country/varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Varsity</a>
  </div>

  <!-- Volleyball -->
  <div class="border-b border-neutral-700">
    <div class="px-4 py-2 font-bold text-gray-300">Volleyball</div>
    <a href="/athletics/sports/volleyball/girls-varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Girls Varsity</a>
  </div>

  <!-- Ultimate Frisbee -->
  <div>
    <div class="px-4 py-2 font-bold text-gray-300">Ultimate Frisbee</div>
    <a href="/athletics/sports/ultimate-frisbee/varsity.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">Varsity</a>
    <a href="/athletics/sports/ultimate-frisbee/jv.html" class="block px-6 py-1.5 hover:bg-red-600 hover:text-white transition">JV</a>
  </div>

</div>

          </div>

          <a href="/athletics/schedule.html" class="nav-link hover:text-red-500">Schedule</a>
          <a href="/athletics/admin.html" class="hover:text-red-500">Admin</a>
        </div>
        <!-- Mobile Hamburger -->
<button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none"
       viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"/>
  </svg>
</button>

      </div>
    </div>
  </div>
</nav>
<div id="mobile-menu" class="hidden md:hidden bg-black border-b border-neutral-800">
  <div class="px-6 py-4 space-y-4 text-lg">
    <a href="/athletics/" class="nav-link block hover:text-red-500">Home</a>
    <details class="group">
  <summary class="cursor-pointer hover:text-red-500 flex justify-between items-center">
    Sports <span class="transition-transform duration-200 group-open:rotate-180">▼</span>
  </summary>
  <div class="ml-4 mt-2 space-y-2 text-sm text-gray-300">
    <p class="font-bold">Basketball</p>
    <a href="/athletics/sports/basketball/boys-varsity.html" class="block">Boys Varsity</a>
    <a href="/athletics/sports/basketball/girls-varsity.html" class="block">Girls Varsity</a>
    <a href="/athletics/sports/basketball/boys-jv.html" class="block">Boys JV</a>

    <p class="font-bold mt-3">Soccer</p>
    <a href="/athletics/sports/soccer/boys-varsity.html" class="block">Boys Varsity</a>
    <a href="/athletics/sports/soccer/girls-varsity.html" class="block">Girls Varsity</a>
    <a href="/athletics/sports/soccer/boys-jv.html" class="block">Boys JV</a>

    <p class="font-bold mt-3">Fencing</p>
    <a href="/athletics/sports/fencing/varsity.html" class="block">Varsity</a>

    <p class="font-bold mt-3">Cross Country</p>
    <a href="/athletics/sports/cross-country/varsity.html" class="block">Varsity</a>

    <p class="font-bold mt-3">Volleyball</p>
    <a href="/athletics/sports/volleyball/girls-varsity.html" class="block">Girls Varsity</a>

    <p class="font-bold mt-3">Ultimate Frisbee</p>
    <a href="/athletics/sports/ultimate-frisbee/varsity.html" class="block">Varsity</a>
    <a href="/athletics/sports/ultimate-frisbee/jv.html" class="block">JV</a>
  </div>
</details>


    <a href="/athletics/schedule.html" class="block nav-link hover:text-red-500">Schedule</a>
    <a href="/athletics/admin.html" class="block nav-link hover:text-red-500">Admin</a>
  </div>
</div>

<header class="relative h-[240px] sm:h-[280px] md:min-h-[280px] border-b border-neutral-800 bg-cover bg-center bg-no-repeat" style="background-image: url('/athletics/icons/school.jpg');">
  
  <!-- Overlay -->
  <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-black/70 to-black/90"></div>

  <!-- Text Content -->
  <div class="relative z-10 max-w-6xl mx-auto px-4 h-full flex flex-col justify-center items-center text-center">
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold tracking-tight text-white">
      Commonwealth Athletics Schedule
    </h1>
    <p class="mt-4 text-lg sm:text-xl md:text-2xl text-gray-200">
      Live Scores · Upcoming Games · Today’s Results
    </p>
  </div>
</header>

<main class="flex-1">
  <!-- Header already exists, keep it as is -->
  <div class="max-w-4xl mx-auto mt-8 px-4 flex flex-wrap gap-4 justify-center">
    <!-- Sport Dropdown -->
    <div class="relative">
      <button id="sport-filter-btn" class="bg-neutral-900 border border-neutral-700 rounded-xl px-4 py-2 text-white font-semibold hover:bg-red-600 hover:text-white transition w-full sm:w-48 text-left flex items-center gap-2">
  Select Sport <span>▼</span>
</button>
      <div id="sport-filter-dropdown" class="absolute mt-2 bg-neutral-900 border border-neutral-700 rounded-xl shadow-xl w-full sm:w-48 hidden z-50"></div>
    </div>

    <!-- Team Dropdown -->
    <div class="relative">
      <button id="team-filter-btn" class="bg-neutral-900 border border-neutral-700 rounded-xl px-4 py-2 text-white font-semibold hover:bg-red-600 hover:text-white transition w-full sm:w-48 text-left flex items-center gap-2">
  Select Team <span>▼</span>
</button>
      <div id="team-filter-dropdown" class="absolute mt-2 bg-neutral-900 border border-neutral-700 rounded-xl shadow-xl w-full sm:w-48 hidden z-50"></div>
    </div>
  </div>

  <div id="schedule-container" class="max-w-4xl mx-auto mt-8 px-4 grid gap-6"></div>
</main>


<footer class="bg-black border-t border-neutral-800">
  <div class="max-w-6xl mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center gap-4">
    <div class="flex gap-4">
      <a href="https://instagram.com/cwssports" target="_blank">
        <img src="/athletics/icons/instagram-white.png" alt="Instagram" class="h-6 w-6 hover:opacity-80 transition">
      </a>
      <a href="https://youtube.com/yourchannel" target="_blank">
        <img src="/athletics/icons/youtube-white.png" alt="YouTube" class="h-6 w-6 hover:opacity-80 transition">
      </a>
    </div>
    <p class="text-gray-400 text-sm text-center md:text-right">
Powered by SCREAM Club
    </p>
  </div>
</footer>
<script>
/* ===== NAVBAR (MATCHES INDEX.HTML EXACTLY) ===== */

// Mobile hamburger toggle
const mobileBtn = document.getElementById("mobile-menu-btn");
const mobileMenu = document.getElementById("mobile-menu");

if (mobileBtn && mobileMenu) {
  mobileBtn.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });
}

// Desktop Sports dropdown
const sportsBtn = document.getElementById("sports-btn");
const sportsDropdown = document.getElementById("sports-dropdown");
const sportsArrow = document.getElementById("sports-arrow");

if (sportsBtn && sportsDropdown) {
  sportsBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    sportsDropdown.classList.toggle("hidden");
    sportsArrow?.classList.toggle("rotate-180");
  });

  window.addEventListener("click", (e) => {
    if (
      !sportsBtn.contains(e.target) &&
      !sportsDropdown.contains(e.target)
    ) {
      sportsDropdown.classList.add("hidden");
      sportsArrow?.classList.remove("rotate-180");
    }
  });
}

// Highlight active nav link
document.querySelectorAll(".nav-link").forEach(link => {
  const linkPath = link.getAttribute("href").replace(/\/$/, "");
  const currentPath = window.location.pathname.replace(/\/$/, "");

  if (
    linkPath === currentPath ||
    (currentPath.includes("schedule") && linkPath.includes("schedule"))
  ) {
    link.classList.add("active");
  }
});
</script>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/athletics/service-worker.js");
}
</script>
</body>
</html>
